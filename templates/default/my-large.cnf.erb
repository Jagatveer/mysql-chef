# Generated by chef 20 GB - my-large.cnf

[mysqld]
datadir                         = /var/lib/mysql
socket                          = /var/lib/mysql/mysql.sock
user                            = mysql
port                            = 3306
default-storage-engine          = InnoDB
symbolic-links                  = 0
key_buffer_size                 = <%= @key_buffer_size %>
myisam-recover                  = FORCE,BACKUP
max_allowed_packet              = 1000M
max_connect_errors              = 1000000
innodb                          = FORCE
table_open_cache                = 1300
max_connections                 = 1300
max_heap_table_size             = 512M
tmp_table_size                  = 512M
query_cache_limit               = 8M
query_cache_size                = 1G
innodb_buffer_pool_size         = <%= @innodb_buffer_pool_size %>
innodb_thread_concurrency       = 50
innodb_file_per_table           = 1
innodb-flush-method             = O_DIRECT
ft_min_word_len                 = 3
open-files-limit                = 100000
expire-logs-days                = 14
sync-binlog                     = 1
table-definition-cache          = 4096
log_queries_not_using_indexes   = 1
slow_query_log                  = 1
slow_query_log_file             = /var/log/mysql-slow.log
innodb_log_file_size            = <%= @innodb_log_file_size %>

[mysqld_safe]
log-error                       = /var/log/mysqld.log

[mysqldump]
max_allowed_packet              = 100M
